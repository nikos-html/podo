[phases.setup]
nixPkgs = ['nodejs_20', 'yarn']

[phases.install]
cmds = [
  'echo "ðŸ“¦ Installing dependencies..."',
  'cd frontend',
  'yarn install --frozen-lockfile --network-timeout 100000'
]

[phases.build]
cmds = [
  'echo "ðŸ”¨ Building React app..."',
  'cd frontend',
  'yarn build',
  'echo "âœ… Build complete!"',
  'ls -la build/'
]

[start]
cmd = 'npx serve -s frontend/build -l $PORT'
